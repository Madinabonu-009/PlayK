.parallax-container {
  position: relative;
  overflow: hidden;
  min-height: 100vh;
  perspective: 1000px;
  transform-style: preserve-3d;
}

.parallax-layer {
  position: absolute;
  inset: 0;
  will-change: transform;
}

.parallax-bg {
  z-index: 1;
}

.parallax-mid {
  z-index: 2;
}

.parallax-fg {
  position: relative;
  z-index: 3;
}

/* Background Shapes */
.parallax-shapes {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.parallax-shape {
  position: absolute;
  width: 100px;
  height: 100px;
  border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
  background: linear-gradient(
    135deg,
    rgba(var(--primary-rgb, 99, 102, 241), 0.1) 0%,
    rgba(var(--secondary-rgb, 139, 92, 246), 0.1) 100%
  );
  filter: blur(40px);
  animation: morphShape 8s ease-in-out infinite;
}

.parallax-shape:nth-child(odd) {
  background: linear-gradient(
    135deg,
    rgba(236, 72, 153, 0.1) 0%,
    rgba(99, 102, 241, 0.1) 100%
  );
  animation-direction: reverse;
}

@keyframes morphShape {
  0%, 100% {
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
    transform: rotate(0deg) scale(1);
  }
  25% {
    border-radius: 58% 42% 75% 25% / 76% 46% 54% 24%;
  }
  50% {
    border-radius: 50% 50% 33% 67% / 55% 27% 73% 45%;
    transform: rotate(180deg) scale(1.2);
  }
  75% {
    border-radius: 33% 67% 58% 42% / 63% 68% 32% 37%;
  }
}

/* Clouds */
.parallax-clouds {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.parallax-cloud {
  position: absolute;
  width: 200px;
  height: 60px;
  background: radial-gradient(
    ellipse at center,
    rgba(255, 255, 255, 0.8) 0%,
    rgba(255, 255, 255, 0) 70%
  );
  border-radius: 50%;
  filter: blur(20px);
}

[data-theme="dark"] .parallax-cloud {
  background: radial-gradient(
    ellipse at center,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0) 70%
  );
}

/* Particles */
.parallax-particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 4;
}

.particle {
  position: absolute;
  width: 8px;
  height: 8px;
  background: var(--primary-color);
  border-radius: 50%;
  opacity: 0;
}

.particle:nth-child(odd) {
  background: var(--secondary-color, #8b5cf6);
  width: 6px;
  height: 6px;
}

.particle:nth-child(3n) {
  background: #f59e0b;
  width: 10px;
  height: 10px;
}

/* Performance optimization */
@media (prefers-reduced-motion: reduce) {
  .parallax-shape,
  .parallax-cloud,
  .particle {
    animation: none !important;
  }
  
  .parallax-layer {
    transform: none !important;
  }
}

/* Mobile optimization */
@media (max-width: 768px) {
  .parallax-shape {
    width: 60px;
    height: 60px;
    filter: blur(30px);
  }
  
  .parallax-cloud {
    width: 120px;
    height: 40px;
  }
  
  .particle {
    display: none;
  }
}
