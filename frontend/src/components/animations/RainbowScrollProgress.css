/**
 * ğŸŒˆ RAINBOW SCROLL PROGRESS STYLES
 * 
 * Kamalak rangli scroll progress bar
 * Height: 3px (max 4px)
 * Yumshoq gradient, sekin flow animatsiya
 */

.rainbow-progress {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--progress-height, 3px);
  z-index: 9999;
  cursor: pointer;
  transition: opacity 0.3s ease;
}

.rainbow-progress:hover {
  opacity: 1.1;
}

/* Background track - juda och */
.rainbow-progress__track {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background: linear-gradient(
    90deg,
    rgba(255, 107, 107, 0.1),
    rgba(254, 202, 87, 0.1),
    rgba(29, 209, 161, 0.1),
    rgba(72, 219, 251, 0.1),
    rgba(155, 89, 182, 0.1)
  );
  border-radius: 999px;
}

/* Rainbow fill - kamalak gradient */
.rainbow-progress__fill {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    #ff6b6b 0%,
    #feca57 20%,
    #1dd1a1 40%,
    #48dbfb 60%,
    #9b59b6 80%,
    #ff6b6b 100%
  );
  background-size: 200% 100%;
  border-radius: 999px;
  animation: rainbowFlow 7s linear infinite;
  will-change: transform;
}

/* Rainbow flow animation - sekin oqish */
@keyframes rainbowFlow {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 200% 50%;
  }
}

/* Glow effect */
.rainbow-progress__glow {
  position: absolute;
  top: -2px;
  left: 0;
  width: 100%;
  height: calc(100% + 4px);
  background: linear-gradient(
    90deg,
    rgba(255, 107, 107, 0.4),
    rgba(254, 202, 87, 0.4),
    rgba(29, 209, 161, 0.4),
    rgba(72, 219, 251, 0.4),
    rgba(155, 89, 182, 0.4)
  );
  background-size: 200% 100%;
  border-radius: 999px;
  filter: blur(4px);
  opacity: 0.5;
  animation: rainbowFlow 7s linear infinite;
  pointer-events: none;
}

/* Milestone pulse - har 25% da */
.rainbow-progress__milestone {
  position: absolute;
  top: 50%;
  width: 12px;
  height: 12px;
  background: white;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 
    0 0 10px rgba(255, 255, 255, 0.8),
    0 0 20px rgba(72, 219, 251, 0.6),
    0 0 30px rgba(155, 89, 182, 0.4);
  pointer-events: none;
}

/* Complete state - 100% */
.rainbow-progress--complete .rainbow-progress__fill {
  animation: rainbowFlow 5s linear infinite, completePulse 2s ease-in-out infinite;
}

.rainbow-progress--complete .rainbow-progress__glow {
  opacity: 0.8;
  filter: blur(6px);
}

@keyframes completePulse {
  0%, 100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.2);
  }
}

/* Complete celebration overlay */
.rainbow-progress__complete {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.3) 50%,
    transparent 100%
  );
  animation: completeShine 2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes completeShine {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ACCESSIBILITY - prefers-reduced-motion
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (prefers-reduced-motion: reduce) {
  .rainbow-progress__fill,
  .rainbow-progress__glow {
    animation: none !important;
    background-size: 100% 100%;
  }
  
  .rainbow-progress__complete {
    animation: none !important;
    opacity: 0.5;
  }
  
  .rainbow-progress--complete .rainbow-progress__fill {
    animation: none !important;
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOBILE RESPONSIVE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (max-width: 768px) {
  .rainbow-progress {
    height: 2px;
  }
  
  .rainbow-progress__milestone {
    width: 8px;
    height: 8px;
  }
}
